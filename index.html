<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cute Valentine Game ğŸ’˜</title>

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #ffb6c1, #ff69b4);
  overflow: hidden;
  text-align: center;
  color: white;
}

/* ğŸŒ¹ Animated Roses Background */
.rose {
  position: absolute;
  font-size: 25px;
  animation: floatUp linear infinite;
  opacity: 0.8;
}
@keyframes floatUp {
  from { transform: translateY(100vh); }
  to { transform: translateY(-10vh); }
}

h1 { margin-top: 10px; }

#gameArea {
  position: relative;
  width: 100%;
  height: 65vh;
  overflow: hidden;
}

.heart {
  position: absolute;
  font-size: 28px;
  cursor: pointer;
  animation: fall linear forwards;
}
.boss {
  font-size: 60px;
}
@keyframes fall {
  from { top: -50px; }
  to { top: 100vh; }
}

#scoreBoard {
  font-size: 18px;
  margin-bottom: 5px;
}

button {
  padding: 8px 18px;
  border: none;
  background: #ff1493;
  color: white;
  font-size: 16px;
  border-radius: 20px;
  cursor: pointer;
  margin: 5px;
}
button:hover { background: #ff69b4; }

#proposal {
  display: none;
  position: absolute;
  top: 30%;
  width: 100%;
}

input {
  padding: 8px;
  border-radius: 10px;
  border: none;
}
</style>
</head>
<body>

<h1>ğŸ’˜ Catch the Love ğŸ’˜</h1>

<div>
  ğŸ’Œ Enter Name: <input type="text" id="loverName" placeholder="Your Crush Name">
  <button onclick="startGame()">Start Game</button>
</div>

<div id="scoreBoard">
  Player 1: 0 | Player 2: 0 | Time: 30
</div>

<div id="gameArea"></div>

<div id="proposal">
  <h2 id="proposalText"></h2>
  <button onclick="sayYes()">ğŸ’ YES ğŸ’</button>
  <button id="noBtn" onmouseover="moveNo()">NO ğŸ˜œ</button>
</div>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5f2b6c6e38.mp3?filename=romantic-110391.mp3" type="audio/mpeg">
</audio>

<script>
let p1 = 0;
let p2 = 0;
let timeLeft = 30;
let gameInterval, heartInterval, bossTimeout;
let bossActive = false;
let turn = 1;

function startGame() {
  p1 = 0;
  p2 = 0;
  timeLeft = 30;
  bossActive = false;
  document.getElementById("proposal").style.display = "none";
  document.getElementById("bgMusic").play();

  updateScore();

  gameInterval = setInterval(() => {
    timeLeft--;
    updateScore();
    if (timeLeft <= 0) endGame();
  }, 1000);

  heartInterval = setInterval(createHeart, 600);

  bossTimeout = setTimeout(createBoss, 10000);
}

function createHeart() {
  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.innerHTML = "ğŸ’–";
  heart.style.left = Math.random() * 90 + "vw";
  heart.style.animationDuration = (Math.random() * 3 + 2) + "s";

  heart.onclick = function() {
    if (turn === 1) { p1++; turn = 2; }
    else { p2++; turn = 1; }
    heart.remove();
    updateScore();
  };

  document.getElementById("gameArea").appendChild(heart);
  setTimeout(() => heart.remove(), 5000);
}

function createBoss() {
  bossActive = true;
  const boss = document.createElement("div");
  boss.classList.add("heart", "boss");
  boss.innerHTML = "ğŸ’˜";
  boss.style.left = "40vw";
  boss.style.animationDuration = "5s";

  boss.onclick = function() {
    if (turn === 1) p1 += 5;
    else p2 += 5;
    boss.remove();
    bossActive = false;
    updateScore();
  };

  document.getElementById("gameArea").appendChild(boss);
}

function updateScore() {
  document.getElementById("scoreBoard").innerHTML =
    "Player 1: " + p1 + " | Player 2: " + p2 + " | Time: " + timeLeft;
}

function endGame() {
  clearInterval(gameInterval);
  clearInterval(heartInterval);
  document.getElementById("bgMusic").pause();

  const name = document.getElementById("loverName").value || "My Love";
  let winner = p1 > p2 ? "Player 1" : "Player 2";

  document.getElementById("proposalText").innerHTML =
    winner + " wins! ğŸ’–<br><br>" + name + ", will you be my Valentine? ğŸ˜";

  document.getElementById("proposal").style.display = "block";
}

function sayYes() {
  alert("YAYYY!! ğŸ’–ğŸ¥° Love accepted! Forever starts now!");
}

function moveNo() {
  const btn = document.getElementById("noBtn");
  btn.style.position = "absolute";
  btn.style.left = Math.random() * 80 + "vw";
  btn.style.top = Math.random() * 60 + "vh";
}

/* ğŸŒ¹ Generate Floating Roses */
function createRose() {
  const rose = document.createElement("div");
  rose.classList.add("rose");
  rose.innerHTML = "ğŸŒ¹";
  rose.style.left = Math.random() * 100 + "vw";
  rose.style.animationDuration = (Math.random() * 10 + 5) + "s";
  document.body.appendChild(rose);
  setTimeout(() => rose.remove(), 15000);
}
setInterval(createRose, 800);
</script>

</body>
</html>
